<!DOCTYPE html>
<html>
  <head>
    <link rel="shortcut icon" href="./assets/favicon.png">
    <script src="./assets/js/jquery-3.2.1.min.js"></script>
    <meta charset="utf-8">
    <title>Meilk Clicker Online</title>
    <script>
       $(document).ready(function(){
         //Start stuff
         var meilk = 0;
         var meilkpclick = 1;
         var meilkpsecond = 0;
         var sicloading = 1;
         var sisloading = 1;
         var sicloading2 = 1;
         var sisloading2 = 1;
         var cost = 0;
         var mpcreward = 0;
         var mpsreward = 0;
         //Shop Upgrades for Items
         var sic1 = 30;
         var sic2 = 70;
         var sic3 = 200;
         //Shop Upgrades for Seconds
         var sis1 = 20;
         var sis2 = 100;
         var sis3 = 250;

         //Set the meilk count
         $(".meilkstats").text(meilk + " Meilk");
         $(".mpsstats").text(meilkpsecond + " Meilk / Second");
         $(".mpcstats").text(meilkpclick + " Meilk / Click");
         while (sicloading < 4) {
            sicloading2 = eval("sic" + sicloading)
            $("#sicl" + sicloading).text(sicloading2 + " Meilk");
            sicloading++;
            console.log("Sic Loading " + sicloading2);
         }
         while (sisloading < 4) {
           sisloading2 = eval("sis" + sisloading)
           $("#sisl" + sisloading).text(sisloading2 + " Meilk");
           sisloading++;
            console.log("Sis Loading " + sisloading2);
         }

         //Meilk Clicker!
         $(".meilk").click(function(){
           meilk += meilkpclick
           console.log("Meilk:" + meilk + "; MPC:" + meilkpclick);
           $(".meilkstats").text(meilk + " Meilk");
         });

         setInterval(function () {
           meilk += meilkpsecond;
           $(".meilkstats").text(meilk + " Meilk");
           meilk = Math.floor(meilk);
           meilkpsecond = Math.floor(meilkpsecond);
           meilkpclick = Math.floor(meilkpclick);
         }, 1000);

         $("#sic1").click(function(){
           cost = sic1;
           mpcreward = 1;
           if (meilk >= cost) {
             sic1 *= 12;
             sic1 /= 10;
             purchase();
           }
         });

         $("#sic2").click(function(){
           cost = sic2;
           mpcreward = 4;
           if (meilk >= cost) {
             sic2 *= 12;
             sic2 /= 10;
             purchase();
           }
         });

         $("#sic3").click(function(){
           cost = sic3;
           mpcreward = 7;
           if (meilk >= cost) {
             sic3 *= 12;
             sic3 /= 10;
             purchase();
           }
         });

         $("#sis1").click(function(){
           cost = sis1;
           mpsreward = 1;
           sis1 = Math.floor(sis1);
           if (meilk >= cost) {
             sis1 *= 12;
             sis1 /= 10;
             purchase();
           }
         });

         $("#sis2").click(function(){
           cost = sis2;
           mpsreward = 3;
           sis2 = Math.floor(sis2);
           if (meilk >= cost) {
             sis2 *= 12;
             sis2 /= 10;
             purchase();
           }
         });

         $("#sis3").click(function(){
           cost = sis3;
           mpsreward = 7;
           sis3 = Math.floor(sis3);
           if (meilk >= cost) {
             sis3 *= 12;
             sis3 /= 10;
             purchase();
           }
         });

         //le purchase stuff :I
         function purchase() {
           if (meilk >= cost) {
             meilk -= cost;
             if (mpcreward >= 1) {
               meilkpclick += mpcreward;
             }
             if (mpsreward >= 1) {
               meilkpsecond += mpsreward;
             }
           }
           mpcreward = 0;
           mpsreward = 0;
           cost = 0;
           console.log(sic1);
           $(".meilkstats").text(meilk + " Meilk");
           $(".mpsstats").text(meilkpsecond + " Meilk / Second");
           $(".mpcstats").text(meilkpclick + " Meilk / Click");
           sic1 = Math.floor(sic1);
           sic2 = Math.floor(sic2);
           sic3 = Math.floor(sic3);
           sis1 = Math.floor(sis1);
           sis2 = Math.floor(sis2);
           sis3 = Math.floor(sis3);
           sicloading = 1;
           sisloading = 1;
           while (sicloading < 4) {
              sicloading2 = eval("sic" + sicloading)
              $("#sicl" + sicloading).text(sicloading2 + " Meilk");
              sicloading++;
           }
           while (sisloading < 4) {
             sisloading2 = eval("sis" + sisloading)
             $("#sisl" + sisloading).text(sisloading2 + " Meilk");
             sisloading++;
           }
         }
       });
       //ToDo - Fix this
       /*
       document.addEventListener('keydown', function(event) {
           if (event.keyCode == 82) {
             sicloading = 1;
             sisloading = 1;
             while (sicloading < 4) {
                sicloading2 = eval("sic" + sicloading)
                $("#sicl" + sicloading).text(sicloading2 + " Meilk");
                sicloading++;
             }
             while (sisloading < 4) {
               sisloading2 = eval("sis" + sisloading)
               $("#sisl" + sisloading).text(sisloading2 + " Meilk");
               sisloading++;
             }
           }
       }, true);
       */
    </script>
  </head>
  <body>
    <div class="meilkarea">
      <p class="meilkstats"> Meilk</p>
      <img src="./assets/meilk.png" alt="Meilk!" class="meilk" draggable="false">
      <p class="mpsstats"> Meilk / Second</p>
      <p class="mpcstats"> Meilk / Click</p>
    </div>
    <div class="shop">
      <ul class="clickupgrades">
        <li class="shopitem" id="sis1"><p class="shopitem1">Auto Meilker</p><p id="sisl1" class="shopitem2">X Meilk</p></li>
        <li class="shopitem" id="sis2"><p class="shopitem1">Meilk Farm</p><p id="sisl2" class="shopitem2">X Meilk</p></li>
        <li class="shopitem" id="sis3"><p class="shopitem1">Meilk Mine</p><p id="sisl3" class="shopitem2">X Meilk</p></li>
      </ul>
    </div>
    <div class="shop">
      <ul class="clickupgrades">
        <li class="shopitem" id="sic1"><p class="shopitem1">Better Meilk</p><p id="sicl1" class="shopitem2">X Meilk</p></li>
        <li class="shopitem" id="sic2"><p class="shopitem1">Moo Meilk</p><p id="sicl2" class="shopitem2">X Meilk</p></li>
        <li class="shopitem" id="sic3"><p class="shopitem1">Super Meilk</p><p id="sicl3" class="shopitem2">X Meilk</p></li>
      </ul>
    </div>
    <div class="version">
      <p>v0.1-9</p>
    </div>
  </body>
  <style media="screen">
    body {
      background-color: #EEEEEE;
      color: #333333;
      -webkit-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
      user-select: none;
      font-family: "Comic Sans MS", sans-serif;
    }

    p {
      margin-bottom: 3px;
      margin-top: 3px;
    }

    .version {
      position: absolute;
      bottom: 0;
      left: 0;
      font-size: 18px;
      font-weight: bold;
      margin-left: 3px;
    }

    .shopitem {
      cursor: pointer;
    }

    .meilk {
      height: 170px;
      width: 170px;
      cursor: pointer;
    }

    .meilkarea {
      float: left;
      text-align: center;
      height: 256px;
      width: 256px;
      margin: 5% 5% 5% 5%;
    }

    .meilkstats {
      font-size: 30px;
      font-weight: bold;
    }

    .mpsstats {
      font-size: 25px;
      font-weight: bold;
    }

    .mpcstats {
      font-size: 25px;
      font-weight: bold;
    }

    .shop {
      margin-top: 20px;
      margin-right: 5px;
      float: right;
    }

    .clickupgrades {
      list-style-type: none;
    }

    .clickupgrades li {
      width: 140px;
      border-width: 5px;
      border-style: solid;
      border-color: #CCBB22;
      background-color: #EEE697;
      margin-bottom: 5px;
      font-size: 20px;
    }

    .shopitem1 {
      margin-left: 2px;
      font-weight: bold;
      font-size: 19px;
    }

    .shopitem2 {
      margin-left: 2px;
      font-weight: normal;
      font-size: 18px;
    }

  </style>
</html>
